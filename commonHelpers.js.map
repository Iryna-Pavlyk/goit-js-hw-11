{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input[name=message]');\nconst gallery = document.querySelector('.image-gallery');\n\nconst request = {\n  key: '42476589-1f9c9241784e75b96bc1ad3a5',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst select = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nlet URL = 'https://pixabay.com/api/?';\nconst lightbox = new SimpleLightbox('.image-gallery a', select);\n\nfunction getImages(link) {\n  return fetch(link)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Image error!');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          backgroundColor: '#ef4040',\n          theme: 'dark',\n          iconUrl: './public/octagon.svg',\n          iconColor: '#fafafb',\n          messageSize: '16',\n          closeOnEscape: true,\n          maxWidth: '432',\n          position: 'topRight',\n        });\n        gallery.innerHTML = '';\n      }\n      createMarkup(data);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = `<span class=\"loader\"></span>`;\n  request.q = input.value;\n  URL += new URLSearchParams(request);\n  input.value = '';\n  getImages(URL);\n  lightbox.refresh();\n});\n\nfunction createMarkup(data) {\n  let markup = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n      <div class=\"image-wrapper\"><a href=\"${largeImageURL}\"><img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"\n                    height=\"200\"></a></div>\n      <div class=\"text-wrapper\">\n        <ul class=\"text-list\">\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Likes</h3>\n            <p class=\"text-list-param\">${likes}</p>\n          </li>\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Views</h3>\n            <p class=\"text-list-param\">${views}</p>\n          </li>\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Comments</h3>\n            <p class=\"text-list-param\">${comments}</p>\n          </li>\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Downloads</h3>\n            <p class=\"text-list-param\">${downloads}</p>\n          </li>\n        </ul>\n      </div>\n    </li>`;\n      }\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n}\n"],"names":["form","input","gallery","request","select","URL","lightbox","SimpleLightbox","getImages","link","response","data","iziToast","createMarkup","error","event","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBASA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,qBAAqB,EACpDC,EAAU,SAAS,cAAc,gBAAgB,EAEjDC,EAAU,CACd,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEMC,EAAS,CACb,aAAc,MACd,aAAc,GAChB,EAEA,IAAIC,EAAM,4BACV,MAAMC,EAAW,IAAIC,EAAe,mBAAoBH,CAAM,EAE9D,SAASI,EAAUC,EAAM,CACvB,OAAO,MAAMA,CAAI,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,cAAc,EAEhC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,IACvBC,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,MAAO,OACP,QAAS,uBACT,UAAW,UACX,YAAa,KACb,cAAe,GACf,SAAU,MACV,SAAU,UACpB,CAAS,EACDV,EAAQ,UAAY,IAEtBW,EAAaF,CAAI,CACvB,CAAK,EACA,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEAd,EAAK,iBAAiB,SAAUe,GAAS,CACvCA,EAAM,eAAc,EACpBb,EAAQ,UAAY,+BACpBC,EAAQ,EAAIF,EAAM,MAClBI,GAAO,IAAI,gBAAgBF,CAAO,EAClCF,EAAM,MAAQ,GACdO,EAAUH,CAAG,EACbC,EAAS,QAAO,CAClB,CAAC,EAED,SAASO,EAAaF,EAAM,CAC1B,IAAIK,EAASL,EAAK,KACf,IACC,CAAC,CACC,aAAAM,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,4CAC6BL,CAAa,6BAA6BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMvEC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAM7C,EACA,KAAK,EAAE,EAEVrB,EAAQ,UAAYc,CACtB"}